<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Tests</title>
	<link rel="stylesheet" href="qunit.css">
</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
	
	<script src="../src/util.js"></script>
	<script src="../src/improvise.js"></script>

	<script src="qunit.js"></script>

	<script type="text/javascript">
	//
		test( "number", function() {
			var isOk = [false, false, false];
			for (var i = 0; i < 30; i++){
				var c = improvise.number(-1.2, 1.2);
				if (c === 1){
					isOk[2] = true;
				}
				if (c === 0){
					isOk[1] = true;
				}
				if (c === -1){
					isOk[0] = true;
				}
			}
			ok( isOk[0] && isOk[1] && isOk[2]);
		});

	//
		test( "any", function(){

		});

	//
		test( "replacements", function(){
			var str = "Nnnn-??-nnnn"
			var res = improvise.replacements(str, {
				'N': '123456789',
				'n': '0123456789',
				'?': 'abcdefghijklmnopqrstuvwxyz'
			});
		});

	//
		test( "sanitize", function(){
			var testHTML = "<html>start\n<script>123<\/script\><object\/\>\nend<\/html\>";
			ok ( improvise.sanitize(testHTML) == "<html>start\n\nend</html>" );
		});

	</script>
</body>
</html>